<!--
캡쳐링 전파 방식
이벤트가 발생한 요소까지 DOM 트리의 최상위부터 아래쪽으로 내려가면 전파되는 방식
맨 먼저 Window 객체의 리스너가 실행된 후 Document 객체에 등록된 리스너가 실행되고, 또 다시 그 자식 요소에 등록된 리스너가 실행됩니다.
이러한 이벤트의 전파는 이벤트가 발생한 요소까지 이어집니다.
이 전파 방식을 사용하기 위해서는 addEventListener() 메소드의 세 번째 인수에 true를 전달하면 됩니다.
캡쳐링 전파 방식은 실제 이벤트의 대상이 되는 요소에 이벤트가 전달되기 전에 상위 요소에 등록된 이벤트 리스너가 이를 가로채거나 잡아낼 수 있습니ㅏㄷ.
-->
<!DOCTYPE html>
<html>
<head>
	<title>JavaScript Event Call</title>
	<style>
		#divBox {
			width: 100%;
			height: 100px;
			border: 2px solid red;
		}
		#paraBox {
			width: 80%;
			height: 50px;
			border: 2px solid orange;
		}
		#spanBox {
			border: 2px solid green;
		}
	</style>
</head>
<body>
	<h1>캡쳐링 이벤트 전파</h1>
	<div id="divBox">
		<p id="paraBox">박스 안의 여러 곳을 <span id="spanBox">클릭</span>해 보세요!</p>
	</div>
	<p id="text"></p>
	<script>
		//각 요소마다 버블링 방식으로 click 이벤트 리스너를 등록함.
		document.getElementById("divBox").addEventListener("click", clickDiv, true);
		document.getElementById("paraBox").addEventListener("click", clickPara, true);
		document.getElementById("spanBox").addEventListener("click", clickSpan, true);

		function clickDiv(event) {
			document.getElementById("text").innerHTML += "div 요소를 click 하셨네요!<br>";
		}
		function clickPara(event) {
			document.getElementById("text").innerHTML += "p 요소를 click 하셨네요!<br>";
		}
		function clickSpan(event) {
			document.getElementById("text").innerHTML += "span 요소를 click 하셨네요!<br>";
		}
	</script>
</body>
</html>